<script>
    $(document).ready(function () {
        let currentURL = window.location.href;

        // Check if the URL matches either https://cultivate.eightfold.ai/home or https://cultivate.eightfold.ai/
        if (currentURL === 'https://cultivate.eightfold.ai/home' || currentURL === 'https://cultivate.eightfold.ai/') {
            //toggle navdark
            $('.navbar-toggle').on('click', function () {
                if ($(this).hasClass('collapsed')) {
                    $('.navColors').addClass('navbarDark');
                } else {
                    $('.navColors').removeClass('navbarDark');
                }
            });
        } else {
            $('.navColors').addClass('navbarDark');
        }

        //herovideo
        //$('.section-3721912 video').attr('src', 'https://res.cloudinary.com/dpanc7doa/video/upload/q_100/v1710451012/resize_3_1_au7lja.mp4');

        // speakers: add block for fading bg out near top of the div
        let targetElements = document.querySelectorAll('.element-20192807');
        let colorFadeDiv = document.createElement('div');
        colorFadeDiv.classList.add('colorFade');
        if (targetElements) {
            targetElements.forEach(function (element) {
                // Clone the div for each element to avoid conflicts
                const clonedDiv = colorFadeDiv.cloneNode(true);
                element.appendChild(clonedDiv);
            });
        }



        let totalHTML = '';
        $('.accordion h4').each(function (index) {
            $(this)
                .nextUntil('hr')
                .andSelf()
                .wrapAll("<div class='faq-qa-wrapper'></div>");
            $(this).nextUntil('hr').wrapAll('<div class="bizz-answer"></div>');
            $(this).wrapAll('<div class="bizz-question"></div>');
        });

        $('.accordion').fadeIn();

        $('.bizz-question').click(function () {
            $(this).next('.bizz-answer').slideToggle();
            $(this).toggleClass('show-answer');
        });
    });
    //text fade in
    $(document).on('scroll', function () {
        let pageTop = $(document).scrollTop();
        let pageBottom = pageTop + $(window).height();
        let tags = $('.section-4098431');
        // for the text that appears on scroll
        if (tags.length > 0) {
            for (var i = 0; i < tags.length; i++) {
                var tag = tags[i];
                if ($(tag).position().top < pageBottom) {
                    $(tag).addClass('visible');
                } else {
                    $(tag).removeClass('visible');
                }
            }
        }

        //video1 play on scroll
        let videoOne = $('.section-3811489');
        if (videoOne.length > 0) {
            for (var i = 0; i < videoOne.length; i++) {
                var videoO = videoOne[i];
                if ($(videoO).position().top < pageBottom - 300) {
                    $('.videoTextTwo')[0].play();
                }
            }
        }
        //video2 play on scroll
        let videoTwo = $('.section-4098062');
        if (videoTwo.length > 0) {
            for (var i = 0; i < videoTwo.length; i++) {
                var videoT = videoTwo[i];
                if ($(videoT).position().top < pageBottom - 300) {
                    $('.videoTextTwo')[1].play();
                }
            }
        }

        //nav on scroll
        //desktop
        let currentURL = window.location.href;
        if (currentURL === 'https://cultivate.eightfold.ai/home' || currentURL === 'https://cultivate.eightfold.ai/') {
            let navbar = $('.navColors');
            if ($(window).width() > 768) {
                if (pageTop > 500) {
                    navbar.addClass('navbarDark');
                } else {
                    navbar.removeClass('navbarDark');
                }
            } else if ($(window).width() <= 768) {
                if (pageTop > 200) {
                    navbar.addClass('navbarDark');
                } else {
                    navbar.removeClass('navbarDark');
                }
            }
        }
    });
</script>


<!-- Bizzabo Reg Embed1: START -->
<script type="text/javascript">
    // Function to inject Bizzabo registration embed code
    function injectBizzaboRegistrationEmbed() {
        var elements = document.querySelectorAll('.bizzabo-reg-embed1');

        elements.forEach(function (element) {
            // Create the main div element
            var div = document.createElement('div');
            div.style.display = 'inline-flex';
            div.style.width = '100%';
            div.classList.add('bz-widget-tickets-inline');
            div.setAttribute('data-flow-id', '7885347b-9e41-4f54-82f9-357f10230af9');
            div.setAttribute('data-event-id', '556920');
            div.setAttribute('data-registration-proxy', 'true');

            // Create the first script element
            var script1 = document.createElement('script');
            script1.type = 'text/javascript';
            script1.classList.add('bz-inline-widget-script');
            script1.id = 'bz-inline-registration-script-7885347b-9e41-4f54-82f9-357f10230af9';
            script1.innerHTML = '(function(){var bz=document.createElement("script");bz.type="text/javascript";bz.async=true;bz.src="https://organizer.bizzabo.com/widgets/flows/tickets/ticketsSelect.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bz,s);})();';

            // Create the second script element
            var script2 = document.createElement('script');
            script2.type = 'text/javascript';
            script2.id = 'bz-popup-registration-script-7885347b-9e41-4f54-82f9-357f10230af9';
            script2.setAttribute('data-event-id', '556920');
            script2.setAttribute('data-registration-proxy', 'true');
            script2.setAttribute('data-unique-name', '556920');
            script2.setAttribute('data-flow-id', '7885347b-9e41-4f54-82f9-357f10230af9');
            script2.setAttribute('data-inline-widget', 'true');
            script2.innerHTML = '(function(){var bz=document.createElement("script");bz.type="text/javascript";bz.async=true;bz.setAttribute("data-flow-id","7885347b-9e41-4f54-82f9-357f10230af9");bz.setAttribute("data-inline-widget", "true");bz.src="https://organizer.bizzabo.com/widgets/flows/popup/registrationPopup.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bz,s);})();';

            // Append elements to the main div
            div.appendChild(script1);
            div.appendChild(script2);

            // Replace the original element with the new div
            element.parentNode.replaceChild(div, element);
        });
    }

    // Call the function to inject the embed code
    injectBizzaboRegistrationEmbed();
</script>
<!-- Bizzabo Reg Embed1: END -->

<!-- Bizzabo Reg Embed2: START -->
<script type="text/javascript">
    // Function to inject Bizzabo registration embed code
    function injectBizzaboRegistrationEmbed() {
        var elements = document.querySelectorAll('.bizzabo-reg-embed2');

        elements.forEach(function (element) {
            // Create the main div element
            var div = document.createElement('div');
            div.style.display = 'inline-flex';
            div.style.width = '100%';
            div.classList.add('bz-widget-tickets-inline');
            div.setAttribute('data-flow-id', '59e12b1b-b318-47ef-aaa6-80a446701e25');
            div.setAttribute('data-event-id', '556920');
            div.setAttribute('data-registration-proxy', 'true');

            // Create the first script element
            var script1 = document.createElement('script');
            script1.type = 'text/javascript';
            script1.classList.add('bz-inline-widget-script');
            script1.id = 'bz-inline-registration-script-59e12b1b-b318-47ef-aaa6-80a446701e25';
            script1.innerHTML = '(function(){var bz=document.createElement("script");bz.type="text/javascript";bz.async=true;bz.src="https://organizer.bizzabo.com/widgets/flows/tickets/ticketsSelect.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bz,s);})();';

            // Create the second script element
            var script2 = document.createElement('script');
            script2.type = 'text/javascript';
            script2.id = 'bz-popup-registration-script-59e12b1b-b318-47ef-aaa6-80a446701e25';
            script2.setAttribute('data-event-id', '556920');
            script2.setAttribute('data-registration-proxy', 'true');
            script2.setAttribute('data-unique-name', '556920');
            script2.setAttribute('data-flow-id', '59e12b1b-b318-47ef-aaa6-80a446701e25');
            script2.setAttribute('data-inline-widget', 'true');
            script2.innerHTML = '(function(){var bz=document.createElement("script");bz.type="text/javascript";bz.async=true;bz.setAttribute("data-flow-id","59e12b1b-b318-47ef-aaa6-80a446701e25");bz.setAttribute("data-inline-widget", "true");bz.src="https://organizer.bizzabo.com/widgets/flows/popup/registrationPopup.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bz,s);})();';

            // Append elements to the main div
            div.appendChild(script1);
            div.appendChild(script2);

            // Replace the original element with the new div
            element.parentNode.replaceChild(div, element);
        });

        var speakerContainer = document.getElementsByClassName('Component-elementGroups-0-2-1');
        speakerContainer[8].style.display = "flex";
        speakerContainer[8].style.justifyContent = "center";
    }

    // Call the function to inject the embed code
    injectBizzaboRegistrationEmbed();
</script>
<!-- Bizzabo Reg Embed2: END -->

<script>
    //Adding trigger to the register button so the registration pop up is displayed mario.r@bizzabo.com 05/31/24


    const registerPopUp = document.querySelector("#bs-example-navbar-collapse-1 > ul:nth-child(1) > li:nth-child(7) > a")
    registerPopUp.removeAttribute("href")
    registerPopUp.setAttribute("id", "id")

</script>

<!-- Bizzabo "Single flow - on-demand" Registration Flow Widget Begin -->
<script type="text/javascript" id="bz-popup-registration-script-d34cc634-e1ff-4046-83fa-858f67610565"
    data-event-id="556920" data-registration-proxy="true" data-unique-name="556920"
    data-flow-id="d34cc634-e1ff-4046-83fa-858f67610565" data-inline-widget="true" data-element-id="id"
    data-element-class="">
            (function () {
                var bz = document.createElement("script");
                bz.type = "text/javascript";
                bz.async = true;
                bz.setAttribute("data-flow-id", "d34cc634-e1ff-4046-83fa-858f67610565")
                bz.setAttribute("data-inline-widget", "true")
                bz.src = "https://organizer.bizzabo.com/widgets/flows/popup/registrationPopup.js";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bz, s);
            })();
    </script>
<!-- Bizzabo "Single flow - on-demand" Registration Flow Widget End -->